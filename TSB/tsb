#convert png to a graph according to the pixel values

import sys
import png
import numpy as np
import matplotlib.pyplot as plt


def main():
    if len(sys.argv) != 2:
        print("Usage: {} <png file>".format(sys.argv[0]))
        sys.exit(1)

    r = png.Reader(sys.argv[1])
    w, h, pixels, meta = r.read_flat()
    data = np.array(list(pixels)).reshape((h, w))

    plt.imshow(data, cmap='gray', interpolation='nearest')
    plt.show()

if __name__ == '__main__':
    main()
    